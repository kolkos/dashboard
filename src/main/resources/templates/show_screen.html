<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>testje</title>
	
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <link href="/css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>
<body>
	<div id="dashboardWrapper">
		<div id="navigationHolder">
			<nav class="navigation">
				<ul>
					<li th:each="screen : ${screens}">
						<a th:href="@{/dashboard/{dashboardName}/{screenName}(dashboardName=${dashboard.safeName}, screenName=${screen.safeName})}">
							<i th:class="${screen.icon + ' fa-lg'}" aria-hidden="true"></i>
							<span th:text="${screen.name}">name</span>
							
						</a>
					</li>
				</ul>
			</nav>
		</div>
		<div id="settingsHolder">
			<a th:href="@{/config/{dashboardName}/{screenName}(dashboardName=${dashboard.safeName}, screenName=${screen.safeName})}">
				<i class="fas fa-cog fa-lg"></i>
			</a>
			<a href="#">
				<i class="fas fa-sync-alt fa-lg"></i>
			</a>
		</div>
		<div id="contentHolder">
			<div id="wrapper">
		 	<div th:each="panel : ${panels}" th:style="${'grid-area: ' + panel.rowStart + ' / ' + panel.columnStart + ' / span ' + panel.height + ' / span ' + panel.width}" th:id="${panel.panelId}" class="box">
				<span th:text="${panel.name}">name</span>
			</div>
	 	</div>
		
		</div>
	</div>

	
    
    <script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
 	<script th:inline="javascript">
    		/*<![CDATA[*/
	    		$(function() {
	    			loadResults();
	    			
		    });

			function loadResults(){
				var dashboard = [[${dashboard.safeName}]];
				var screen = [[${screen.safeName}]];
				var url = "/dashboard/" + dashboard + "/" + screen + "/results";
				$.get( url, function( data ) {
					$( "#wrapper" ).html( data );	  
				});

				
			}
    		/*]]>*/
    </script>

</body>
</html>